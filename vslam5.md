# LIE 군, LIE 대수

## LIE 군, LIE 대수 변환이 필요한 이유?
- 회전행렬, 회전 벡터, 오일러각 , 쿼터니언 등 3차원 세계에서 **강체** 운동 -> 회전의 표현에 국한
- 일반적으로 최적화 문제로 구성 후 최적의 R을 풀고 오류를 최소화
- 카메라의 pose추정의 문제를 제약이 없는 최적화 문제로 전환해서 단순화 -> **접근이 쉬워짐**


## 예시
- 회전 행렬 r1,r2가 존재할 때 곱셈연산을 함
- **곱셈 연산은 회전행렬과 변환행렬의 합성에 해당**
- **두 회전 행렬의 곱은 두 개의 회전이 연속적으로 이뤄짐을 의미**

- 이러한 작업 집합 하나에 대해서만 **군(GROUP)이라 부름**

### LIE군
- 집합과 연산으로 이루어진 대수적 구조
- 닫힘성, 결합성, 항등성, 역

- 임의 회전 행렬
$$RR^T = I$$
- 지속적으로 변화하는 카메라 회전 시간 함수 $R(t)$
$$R(t)R(t)^T = I$$

- 시간에 대한 미분을 수행
$$R^\prime(t)R(t)^T = -(R(t){R^\prime(t)}^T)^T$$
- $R^\prime(t)R(t)^T$이 반대칭 행렬( ^연산자로 표현)  

### LIE군의 유도
- R(0) = I로 정의하고 t=0 주변의 1차 테일러 전개로 근사하면 I에다 시간 의존성을 더한 형식이 됨 ($I + {\Phi(t_0)}^\land (t)$)
- 시간에 의존하지 않으면 $R^\prime(t) = {\Phi_0}^\land R(t)$처럼 적을 수 있음
- 선형미분정식의 해 $R(t) = exp({\Phi_0}^\land t)$ -> 시간 의존성 제거

<br>

#### 특정 순간 R이 주어지면 R의 국부 미분 관계를 나타내는 $\Phi$를 찾을 수 있음
R에 해당하는 $\Phi$는 무엇 -> **$\Phi$가 곧 LIE대수임**

#### 행렬 $exp({\Phi}^\land)$은 어떻게 계산되는가?
 -> **LIE군과 LIE대수 사이의 지수/로그 매핑임**

### LIE대수의 정의
- LIE군에 상응하는 대수, 지역성
- 벡터공간, 실수 집합, 이원 연산으로 구성
- SO(3) 요소 표기 : ^와 $\lor$ 통해 벡터에서 행렬, 행렬에서 벡터로 변환 및 표기 가능
- 교환 법칙이 성립하지 않음

### SE(3)의 표기법
- 6차원벡터와 4*4행렬로 표현가능
- translation과 rotation은 rho와 phi로 표기

---
<br>

## 지수/로그 매핑

### 리 군과 리 대수 관계 예시
평면 to 구면 - 지수 매핑, 구면 to 평면 - 로그 매핑
$$so(3) <--------->SO(3)$$

### 지수 매핑
- 매트릭스의 무한한 지수 승을 연산하는 것은 불가능
- 무한대의 합을 단순화할 필요
->  회전 벡터, ^연산 특성 활용
$$exp({\Phi}^\land) = \cos \theta I +(1-\cos\theta)aa^T + \sin \theta a\land$$
 -> 로드리 회전 공식과 같은 내용


 ### 로그 매핑
 - 지수 맵핑과 마찬가지로 로그 맵을 확장할 필요x
 -> 회전 각도, 방향 벡터